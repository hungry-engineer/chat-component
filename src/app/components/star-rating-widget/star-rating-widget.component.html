
<div class="chat21-modal-content">
    <!-- <div style="background-color:#ffffff">FOR DEBUG OF PARENT PARAMETERS: {{ parentThemeColor }} {{ parentThemeForegroundColor }} {{ parentAllowTranscriptDownload }}</div> -->
    <div *ngIf="step==0">
        <div class="chat21-modal-header">
                <div class="chat21-button_close" (click)="closeRate()">
                    <img _ngcontent-c0="" class="eye-catcher-card-close-btn-img" src="https://widget.tiledesk.com/assets/images/tiledesk-chat-close-dark-gray.svg">
                 </div>
                
                <!-- Valutazione servizio -->
                <h1 class="chat21-modal-title"> {{ CUSTOMER_SATISFACTION }}</h1>
                <fieldset class="chat21-rating">
                    <input type="radio" id="star5" name="rating" value="5" (click)="openRate($event)" /><label class = "full" for="star5" title="eccellente - 5 stars"></label>
                    <!-- <input type="radio" id="star4half" name="rating" value="4 and a half" (click)="openRate($event)" /><label class="half" for="star4half" title="Pretty good - 4.5 stars"></label> -->
                    <input type="radio" id="star4" name="rating" value="4" (click)="openRate($event)" /><label class = "full" for="star4" title="ottimo - 4 stars"></label>
                    <!-- <input type="radio" id="star3half" name="rating" value="3 and a half" (click)="openRate($event)" /><label class="half" for="star3half" title="Meh - 3.5 stars"></label> -->
                    <input type="radio" id="star3" name="rating" value="3" (click)="openRate($event)" /><label class = "full" for="star3" title="buono - 3 stars"></label>
                    <!-- <input type="radio" id="star2half" name="rating" value="2 and a half" (click)="openRate($event)" /><label class="half" for="star2half" title="Kinda bad - 2.5 stars"></label> -->
                    <input type="radio" id="star2" name="rating" value="2" (click)="openRate($event)" /><label class = "full" for="star2" title="sufficiente - 2 stars"></label>
                    <!-- <input type="radio" id="star1half" name="rating" value="1 and a half" (click)="openRate($event)" /><label class="half" for="star1half" title="Meh - 1.5 stars"></label> -->
                    <input type="radio" id="star1" name="rating" value="1" (click)="openRate($event)" /><label class = "full" for="star1" title="scarso - 1 star"></label>
                    <!-- <input type="radio" id="starhalf" name="rating" value="half" (click)="openRate($event)" /><label class="half" for="starhalf" title="Sucks big time - 0.5 stars"></label> -->
                </fieldset>
        </div> 
        <!-- il tuo giudizio sul nostro servizio clienti -->
        <h3 class="chat21-modal-title">{{ YOUR_OPINION_ON_OUR_CUSTOMER_SERVICE }}</h3>
        <!-- <div class="chat21-button_close2" (click)="close()">Chiudi</div> -->
        
        <button *ngIf="displayDownloadTranscriptBtn === true" class="chat21-download-transcript-btn" 
            [ngStyle]="{'background-color': parentThemeColor, 'border-color': parentThemeColor}" (click)="dowloadTranscript()">
            <span [ngStyle]="{'color': parentThemeForegroundColor}">{{ DOWNLOAD_TRANSCRIPT }}</span>
        </button>
    </div>

    <div *ngIf="step==1">
        <!-- Indietro -->
        <div class="chat21-button_back" (click)="prevStep()">{{ BACK }}</div>
        <div class="chat21-button_close" (click)="closeRate()">
            <img _ngcontent-c0="" class="eye-catcher-card-close-btn-img" src="https://widget.tiledesk.com/assets/images/tiledesk-chat-close-dark-gray.svg">
        </div>
        <!-- <div class="chat21-button_send2" (click)="sendRate()">Invia</div> -->
        <div class="chat21-yourRating">
            <!-- il tuo voto: -->
            <p>{{ YOUR_RATING }}</p>
            <div class="chat21-stars">
                <span *ngIf="rate>0" class="fa fa-star checked"></span>
                <span *ngIf="rate>1" class="fa fa-star checked"></span>
                <span *ngIf="rate>2" class="fa fa-star checked"></span>
                <span *ngIf="rate>3" class="fa fa-star checked"></span>
                <span *ngIf="rate>4" class="fa fa-star checked"></span>
            </div>
            <!-- Scrivi la tua opinione...(opzionale) -->
            <textarea #textbox rows="1" id="chat21-message-rate-context" class='chat21-rating-textarea' placeholder="{{ WRITE_YOUR_OPINION }}" ></textarea>
            <div class="chat21-button_send" (click)="sendRate()">{{ SUBMIT }}</div>
        </div>
    </div>

    <div *ngIf="step==2">
            <!-- Grazie per la tua valutazione -->  <!-- il tuo voto è stato ricevuto -->
        <h1 class="chat21-modal-title">{{ THANK_YOU_FOR_YOUR_EVALUATION }}</h1>
        <p class="chat21-modal-message">{{ YOUR_RATING_HAS_BEEN_RECEIVED }}</p>
        <div class="chat21-modal-button-ok" (click)="closeRate()">OK</div>
    </div>
    
</div>


