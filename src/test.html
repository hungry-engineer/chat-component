<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Tilechat Widget</title>
  <base href="./">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>
<body>
    <script type="application/javascript">
      window.tiledeskSettings = 
          {
              projectid: "5b55e806c93dde00143163dd",
              projectname: "Demo",
              development: true,
              calloutTimer: 10
          };

      (function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id; //js.async=!0;
        js.src = "./tiledesk.js";
        fjs.parentNode.insertBefore(js, fjs);
      }(document, 'script', 'tiledesk-jssdk'));
    </script>



    <script type="application/javascript">    
      window.tileDeskAsyncInit = function() {
       window.tiledesk.on('loadParams', function(event_data) {
         console.log("loadParams called", event_data);
       });
       window.tiledesk.on('beforeMessageSend', function(event_data) {
         console.log("beforeMessageSend called ",event_data);
         var message =  event_data.detail;
         message.attributes.pagetitle = document.title;
         message.attributes.userName = "Andrew Lee";
         message.attributes.userEmail = "andrewlee@f21.com";
       });
       window.tiledesk.on('afterMessageSend', function(event_data) {
         console.log("afterMessageSend called ", event_data);
       });
      }
    </script>

</body>
</html>
